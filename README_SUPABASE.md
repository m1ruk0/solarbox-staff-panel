# üöÄ Staff Management System - Supabase Edition

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º —Å —Ñ–æ—Ä–º–æ–π –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–æ–∫, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –Ω–∞ **Supabase** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –±—ã—Å—Ç—Ä–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- üìù **–§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–æ–∫** - –∫—Ä–∞—Å–∏–≤–∞—è –≤–µ–±-—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º** - –Ω–∞–π–º, —É–≤–æ–ª—å–Ω–µ–Ω–∏–µ, –ø–æ–≤—ã—à–µ–Ω–∏–µ, –≤–∞—Ä–Ω—ã
- üìä **–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫** - —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤
- üîê **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** - –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç–Ω–æ–º—É –≤–æ–ø—Ä–æ—Å—É
- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞** - –≤ 10-50 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ Google Sheets
- üóÑÔ∏è **Supabase** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ **[SUPABASE_QUICK_START.md](SUPABASE_QUICK_START.md)** (5 –º–∏–Ω—É—Ç)

–ö—Ä–∞—Ç–∫–æ:
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ https://supabase.com
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ `supabase-schema.sql`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API –∫–ª—é—á–∏
4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# Discord
DISCORD_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
APPLICATION_CHANNEL_ID=id_–∫–∞–Ω–∞–ª–∞

# Supabase
SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_KEY=–≤–∞—à_anon_–∫–ª—é—á

# –ü–æ—Ä—Ç—ã
PORT=3000
API_PORT=4000
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
npm run test-supabase
```

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - Discord –±–æ—Ç
npm start

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - API —Å–µ—Ä–≤–µ—Ä
npm run api-supabase
```

### 5. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
```
http://localhost:4000/
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
‚îú‚îÄ‚îÄ public/                    # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ landing.html          # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ apply.html            # –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ index.html            # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ applications.html     # –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫
‚îÇ
‚îú‚îÄ‚îÄ Supabase –º–æ–¥—É–ª–∏:
‚îÇ   ‚îú‚îÄ‚îÄ supabase-setup.js                  # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ staff-database-supabase.js         # –ü–µ—Ä—Å–æ–Ω–∞–ª
‚îÇ   ‚îú‚îÄ‚îÄ applications-database-supabase.js  # –ó–∞—è–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ passwords-database-supabase.js     # –ü–∞—Ä–æ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ API —Å–µ—Ä–≤–µ—Ä—ã:
‚îÇ   ‚îú‚îÄ‚îÄ api-server-supabase-only.js  # Supabase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ api-server.js                # Google Sheets
‚îÇ   ‚îî‚îÄ‚îÄ api-server-mongo.js          # MongoDB
‚îÇ
‚îú‚îÄ‚îÄ index.js                   # Discord –±–æ—Ç
‚îú‚îÄ‚îÄ supabase-schema.sql        # –°—Ö–µ–º–∞ –ë–î
‚îî‚îÄ‚îÄ .env                       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

| URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `/` | –ì–ª–∞–≤–Ω–∞—è (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ landing) |
| `/landing.html` | Landing page —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π |
| `/apply.html` | –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏ |
| `/index.html` | –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) |
| `/applications.html` | –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) |

## üìä API Endpoints:

### –ó–∞—è–≤–∫–∏:
- `GET /api/applications` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏
- `POST /api/applications` - –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
- `POST /api/applications/:id/approve` - –æ–¥–æ–±—Ä–∏—Ç—å –∑–∞—è–≤–∫—É
- `POST /api/applications/:id/reject` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É

### –ü–µ—Ä—Å–æ–Ω–∞–ª:
- `GET /api/staff` - –ø–æ–ª—É—á–∏—Ç—å –≤–µ—Å—å –ø–µ—Ä—Å–æ–Ω–∞–ª
- `POST /api/staff` - –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `PUT /api/staff/:discord/position` - –∏–∑–º–µ–Ω–∏—Ç—å –¥–æ–ª–∂–Ω–æ—Å—Ç—å
- `POST /api/staff/:discord/warn` - –≤—ã–¥–∞—Ç—å –≤–∞—Ä–Ω
- `DELETE /api/staff/:discord/warn` - —Å–Ω—è—Ç—å –≤–∞—Ä–Ω
- `DELETE /api/staff/:discord` - —É–≤–æ–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- `POST /api/auth/login` - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /api/auth/security-question` - –ø–æ–ª—É—á–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:

### –¢–∞–±–ª–∏—Ü—ã:

#### applications (–∑–∞—è–≤–∫–∏)
```sql
id, discord, minecraft, age, experience, reason, position, status, created_at
```

#### staff (–ø–µ—Ä—Å–æ–Ω–∞–ª)
```sql
id, discord, minecraft, position, warns, vacation, status, hire_date
```

#### passwords (–ø–∞—Ä–æ–ª–∏)
```sql
id, discord, password, question, answer
```

#### logs (–ª–æ–≥–∏)
```sql
id, action, moderator, target, details, timestamp
```

## üìù –°–∫—Ä–∏–ø—Ç—ã:

```bash
# –ó–∞–ø—É—Å–∫ Discord –±–æ—Ç–∞
npm start

# –ó–∞–ø—É—Å–∫ API —Å Supabase
npm run api-supabase

# –ó–∞–ø—É—Å–∫ API —Å Google Sheets
npm run api

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ + API (Supabase)
npm run dev-supabase

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
npm run test-supabase
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

### .env —Ñ–∞–π–ª:
```env
# Discord Bot
DISCORD_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
APPLICATION_CHANNEL_ID=id_–∫–∞–Ω–∞–ª–∞_–¥–ª—è_–∑–∞—è–≤–æ–∫

# Supabase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_KEY=–≤–∞—à_anon_–∫–ª—é—á

# –ü–æ—Ä—Ç—ã
PORT=3000
API_PORT=4000
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- **[SUPABASE_QUICK_START.md](SUPABASE_QUICK_START.md)** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç
- **[MIGRATION_TO_SUPABASE.md](MIGRATION_TO_SUPABASE.md)** - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- **[SUPABASE_MIGRATION_SUMMARY.md](SUPABASE_MIGRATION_SUMMARY.md)** - –∏—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
- **[supabase-schema.sql](supabase-schema.sql)** - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

| –û–ø–µ—Ä–∞—Ü–∏—è | Google Sheets | Supabase | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|---------------|----------|-----------|
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ | 2-3 —Å–µ–∫ | 100-200 –º—Å | **15x** |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ | 3-5 —Å–µ–∫ | 50-100 –º—Å | **50x** |
| –ü–æ–∏—Å–∫ –ø–æ Discord | 2-4 —Å–µ–∫ | 20-50 –º—Å | **80x** |

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

### –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏:
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –í—ã–±–æ—Ä –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ (–•–µ–ª–ø–µ—Ä/–ú–µ–¥–∏—è)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
- ‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
- ‚úÖ –ù–∞–π–º –∏ —É–≤–æ–ª—å–Ω–µ–Ω–∏–µ
- ‚úÖ –ü–æ–≤—ã—à–µ–Ω–∏–µ –∏ –ø–æ–Ω–∏–∂–µ–Ω–∏–µ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–∞—Ä–Ω–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—É—Å–∫–∞–º–∏
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ SQL Editor

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### "SUPABASE_URL –∏ SUPABASE_KEY –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### "relation 'applications' does not exist"
‚Üí –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ `supabase-schema.sql` –≤ Supabase SQL Editor

### –ó–∞—è–≤–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run test-supabase` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### "Cannot GET /"
‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `npm run api-supabase`

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- **Supabase Dashboard:** https://app.supabase.com
- **Supabase Docs:** https://supabase.com/docs
- **Discord.js Guide:** https://discordjs.guide

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run test-supabase`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
5. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)
- ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è —Ñ–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–æ–∫
- ‚úÖ –£–¥–æ–±–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ Discord –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üë§ –ê–≤—Ç–æ—Ä

Staff Management System with Supabase
