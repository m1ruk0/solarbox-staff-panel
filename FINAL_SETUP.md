# üéâ –ì–û–¢–û–í–û! –í–∞—à —Å–∞–π—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω –Ω–∞ Supabase

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏ –∑–∞—è–≤–∫–∏ –Ω–∞ Supabase**
   - `api-server-supabase.js` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `applications-database-supabase.js`
   - –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω Google Sheets!

2. **–û–±–Ω–æ–≤–∏–ª–∏ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É**
   - `/` —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `/landing.html`

3. **–û–±–Ω–æ–≤–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞**
   - `npm run api` ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç Supabase –≤–µ—Ä—Å–∏—é
   - `npm run dev` ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç + Supabase API

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –í–ê–® —Å–∞–π—Ç:

### 1Ô∏è‚É£ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω:

```env
# Discord
DISCORD_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
APPLICATION_CHANNEL_ID=id_–∫–∞–Ω–∞–ª–∞

# Supabase
SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_KEY=–≤–∞—à_anon_–∫–ª—é—á

# –ü–æ—Ä—Ç—ã
PORT=3000
API_PORT=4000
```

### 2Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://supabase.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ `supabase-schema.sql`
4. –ù–∞–∂–º–∏—Ç–µ **Run**

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```bash
npm run test-supabase
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!
‚úÖ staff - —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
‚úÖ applications - —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
‚úÖ passwords - —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
‚úÖ logs - —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã:

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ API —Å–µ—Ä–≤–µ—Ä
npm run api

# –í–∞—Ä–∏–∞–Ω—Ç 2: Discord –±–æ—Ç + API —Å–µ—Ä–≤–µ—Ä
npm run dev
```

### 5Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç:

```
http://localhost:4000/
```

## üåê –í–∞—à–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

| URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `/` | –ì–ª–∞–≤–Ω–∞—è ‚Üí –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ landing |
| `/landing.html` | Landing page —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π |
| `/apply.html` | –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏ |
| `/login.html` | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É |
| `/index.html` | –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º |
| `/applications.html` | –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ |
| `/applications-archive.html` | –ê—Ä—Ö–∏–≤ –∑–∞—è–≤–æ–∫ |
| `/admin-passwords.html` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏ (—Ç–æ–ª—å–∫–æ OWNER) |
| `/logs.html` | –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π (—Ç–æ–ª—å–∫–æ OWNER) |

## üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É (apply.html)
         ‚Üì
JavaScript –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ API (apply.js)
         ‚Üì
API —Å–µ—Ä–≤–µ—Ä (api-server-supabase.js)
         ‚Üì
Supabase –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (applications —Ç–∞–±–ª–∏—Ü–∞)
         ‚Üì
–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –≤ –ø–∞–Ω–µ–ª–∏ (applications.html)
         ‚Üì
–û–¥–æ–±—Ä—è–µ—Ç ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ staff —Ç–∞–±–ª–∏—Ü—É
         ‚Üì
Discord –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```

## üîê –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí **Table Editor** ‚Üí `passwords`
2. –ù–∞–∂–º–∏—Ç–µ **Insert row**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   ```
   discord: –≤–∞—à_discord_–Ω–∏–∫
   password: –≤–∞—à_–ø–∞—Ä–æ–ª—å
   question: –õ—é–±–∏–º—ã–π —Ü–≤–µ—Ç?
   answer: —Å–∏–Ω–∏–π
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –Ω–∞ `/login.html`!

## ‚úÖ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏:
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Supabase (—Ç–∞–±–ª–∏—Ü–∞ `applications`)
- ‚úÖ –ü–æ–ª—è: discord, minecraft, age, experience, reason, position
- ‚úÖ –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏"

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ (—Ç–∞–±–ª–∏—Ü–∞ `staff`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ –ü–æ–≤—ã—à–µ–Ω–∏–µ/–ø–æ–Ω–∏–∂–µ–Ω–∏–µ
- ‚úÖ –í—ã–¥–∞—á–∞/—Å–Ω—è—Ç–∏–µ –≤–∞—Ä–Ω–æ–≤
- ‚úÖ –£–≤–æ–ª—å–Ω–µ–Ω–∏–µ
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—É—Å–∫–∞–º–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫:
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ –∏–∑ Supabase
- ‚úÖ –û–¥–æ–±—Ä–µ–Ω–∏–µ ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ staff
- ‚úÖ –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Discord

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Supabase:

| –§—É–Ω–∫—Ü–∏—è | Google Sheets | Supabase |
|---------|---------------|----------|
| –°–∫–æ—Ä–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è | 2-3 —Å–µ–∫ | 100-200 –º—Å |
| –°–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è | 3-5 —Å–µ–∫ | 50-100 –º—Å |
| –õ–∏–º–∏—Ç—ã API | 100 req/100s | –ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤ |
| –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ë–∞–∑–æ–≤—ã–π | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π |
| SQL –∑–∞–ø—Ä–æ—Å—ã | ‚ùå | ‚úÖ |
| –ò–Ω–¥–µ–∫—Å—ã | ‚ùå | ‚úÖ |

**Supabase –≤ 10-50 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!** ‚ö°

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã:

```sql
-- –í—Å–µ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏
SELECT * FROM applications 
WHERE status = '–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏' 
ORDER BY created_at DESC;

-- –í–µ—Å—å –∞–∫—Ç–∏–≤–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª
SELECT * FROM staff 
WHERE status = '–ê–∫—Ç–∏–≤–µ–Ω' 
ORDER BY position;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º
SELECT position, COUNT(*) as count 
FROM staff 
GROUP BY position;

-- –ó–∞—è–≤–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é
SELECT * FROM applications 
WHERE created_at > NOW() - INTERVAL '7 days';
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### "SUPABASE_URL –∏ SUPABASE_KEY –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`

### "relation 'applications' does not exist"
‚Üí –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ `supabase-schema.sql`

### –ó–∞—è–≤–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run test-supabase`

### "Cannot GET /"
‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `npm run api`

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à —Å–∞–π—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω –Ω–∞ Supabase!

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –∏ –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤!** üöÄ

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Supabase
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run api`
3. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:4000/
4. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ –≤ `passwords`
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏
6. ‚úÖ –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π —Å –∏–≥—Ä–æ–∫–∞–º–∏!

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç–æ–π!** üéä
