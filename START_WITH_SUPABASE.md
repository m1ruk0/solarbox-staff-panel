# üöÄ –ó–∞–ø—É—Å–∫ –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ —Å Supabase

## ‚úÖ –í–∞—à —Å–∞–π—Ç –£–ñ–ï –≥–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Supabase!

–í—Å–µ —Ñ–∞–π–ª—ã (`app.js`, `apply.js`, `applications.js` –∏ —Ç.–¥.) —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç API, –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø–µ—Ä–µ–∫–ª—é—á–∏–ª–∏ –Ω–∞ Supabase.

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### 1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Supabase (5 –º–∏–Ω—É—Ç)

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ https://supabase.com
2. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ `supabase-schema.sql`
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ (Run)

### 2Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ API

1. **Settings** ‚Üí **API**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Project URL**: `https://xxx.supabase.co`
   - **anon public** –∫–ª—é—á

### 3Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª

```env
# Discord
DISCORD_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
APPLICATION_CHANNEL_ID=id_–∫–∞–Ω–∞–ª–∞

# Supabase
SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_KEY=–≤–∞—à_anon_–∫–ª—é—á

# –ü–æ—Ä—Ç—ã
PORT=3000
API_PORT=4000
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - Discord –±–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
npm start

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - API —Å–µ—Ä–≤–µ—Ä —Å Supabase
npm run api-supabase
```

### 5Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç

```
http://localhost:4000/
```

## üåê –°—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞:

| URL | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∞–±–æ—Ç–∞–µ—Ç —Å Supabase |
|-----|----------|---------------------|
| `/` | –ì–ª–∞–≤–Ω–∞—è (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ) | ‚úÖ |
| `/landing.html` | Landing page | ‚úÖ |
| `/apply.html` | –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ | ‚úÖ |
| `/login.html` | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É | ‚úÖ |
| `/index.html` | –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚úÖ |
| `/applications.html` | –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ | ‚úÖ |
| `/applications-archive.html` | –ê—Ä—Ö–∏–≤ –∑–∞—è–≤–æ–∫ | ‚úÖ |
| `/admin-passwords.html` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏ | ‚úÖ |
| `/logs.html` | –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π | ‚úÖ |

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
–í–∞—à —Å–∞–π—Ç (HTML + JS)
         ‚Üì
    API —Å–µ—Ä–≤–µ—Ä (api-server-supabase-only.js)
         ‚Üì
    Supabase (PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
```

### –ü—Ä–∏–º–µ—Ä:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É** –Ω–∞ `/apply.html`
2. **JavaScript –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –Ω–∞ `POST /api/applications`
3. **API —Å–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç** –≤ Supabase —Ç–∞–±–ª–∏—Ü—É `applications`
4. **–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç** –∑–∞—è–≤–∫—É –≤ `/applications.html`
5. **–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –æ–¥–æ–±—Ä—è–µ—Ç** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `staff`

## ‚úÖ –ß—Ç–æ –£–ñ–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ (`apply.html` + `apply.js`):
```javascript
// apply.js —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API
const API_URL = window.location.hostname === 'localhost' 
    ? 'http://localhost:4000/api' 
    : '/api';

await fetch(`${API_URL}/applications`, {
    method: 'POST',
    body: JSON.stringify(formData)
});
```

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (`index.html` + `app.js`):
```javascript
// app.js —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API
const API_URL = window.location.origin + '/api';

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
const response = await fetch(`${API_URL}/staff`);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
await fetch(`${API_URL}/staff`, {
    method: 'POST',
    body: JSON.stringify(data)
});
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ (`applications.html` + `applications.js`):
```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
const response = await fetch(`${API_URL}/applications`);

// –û–¥–æ–±—Ä–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
await fetch(`${API_URL}/applications/${id}/approve`, {
    method: 'POST'
});
```

## üéØ –í—Å—ë –≥–æ—Ç–æ–≤–æ!

**–ù–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ HTML/JS —Ñ–∞–π–ª–∞—Ö!**

–ü—Ä–æ—Å—Ç–æ:
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Supabase
2. –°–æ–∑–¥–∞–π—Ç–µ `.env`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run api-supabase`
4. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:4000/`

**–í–∞—à —Å–∞–π—Ç —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Supabase!** üéâ

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```
windsurf-project/
‚îú‚îÄ‚îÄ public/                    ‚Üê –í–ê–® –°–ê–ô–¢ (–≥–æ—Ç–æ–≤!)
‚îÇ   ‚îú‚îÄ‚îÄ landing.html          ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ apply.html            ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ index.html            ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ applications.html     ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ app.js                ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç API
‚îÇ   ‚îú‚îÄ‚îÄ apply.js              ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç API
‚îÇ   ‚îî‚îÄ‚îÄ applications.js       ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç API
‚îÇ
‚îú‚îÄ‚îÄ api-server-supabase-only.js  ‚Üê API –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞
‚îú‚îÄ‚îÄ supabase-schema.sql          ‚Üê –°—Ö–µ–º–∞ –ë–î
‚îî‚îÄ‚îÄ .env                         ‚Üê –ù–∞—Å—Ç—Ä–æ–π–∫–∏
```

## üîß –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞:

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ Supabase:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí `passwords`
2. –ù–∞–∂–º–∏—Ç–µ **Insert row**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   ```
   discord: –≤–∞—à_discord_–Ω–∏–∫
   password: –≤–∞—à_–ø–∞—Ä–æ–ª—å
   question: –õ—é–±–∏–º—ã–π —Ü–≤–µ—Ç?
   answer: —Å–∏–Ω–∏–π
   ```
4. –ù–∞–∂–º–∏—Ç–µ **Save**

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –Ω–∞ `/login.html`!

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à —Å–∞–π—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Supabase!

**–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!** 

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä –∏ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç! üöÄ
